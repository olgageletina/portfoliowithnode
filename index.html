
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html>
<head>
	<%= headerHTML %>
	</head>
	<body >
		<!-- onload="initSlideShow();" -->
		<div class="home-wrap">
			<div class="portals portals-type top-right" style="transform: matrix(1, 0, 0, 1, 0, 0);">
				<a href="hardware/index.html">
					<section id="hardware" data-position="top-left" class="">	<!-- née section id videos -->
						<img class="title" draggable="false" src="img/static-headers/hardware.svg"> 
						<div class="images">
							<span class="home-image" style="background-image: url(&quot;img/title-images/3AC6F4.jpg&quot;);"></span>
						</div>
						</section>
				</a>
				<section id="software" data-position="top-center" class=""> 
					<!-- née section id commercials -->
					<img class="title" draggable="false" src="img/static-headers/software.svg"> 
				</section>
				<section id="still-motion" data-position="top-right" class=""> 
					<!-- née section id store -->
					<img class="title" draggable="false" src="img/static-headers/still-motion.svg">
					</section>
				<section id="materials" data-position="bottom-left" class=""> 
					<!-- née section id rhymes -->
					<img class="title" draggable="false" src="img/static-headers/materials.svg">
					</section>
				<section id="web-mobile" data-position="bottom-center" class=""> 
					<!-- née section id charms -->
					<img class="title" draggable="false" src="img/static-headers/web-mobile.svg">
					</section>
				<section id="about" data-position="bottom-right" class=""> 
					<!-- née section id contact -->
					<img class="title" draggable="false" src="img/static-headers/about.svg">
				</section>
			</div>
			<div class="portals portals-images top-right" style="transform: matrix(1, 0, 0, 1, 0, 0);">
				<section id="hardware" class="">
					<!-- née section id objects -->
<!-- 					<div class="images">
						<span class="home-image active" style="background-image: url(&quot;img/title-images/3AC6F4.jpg&quot;);"></span>
						<span class="home-image" style="background-image: url(&quot;img/title-images/3B5C90.jpg&quot;); display:none;"></span>
						<span class="home-image" style="background-image: url(&quot;img/title-images/FF6600.jpg&quot;); display:none;"></span>
						<span class="home-image" style="background-image: url(&quot;img/title-images/FFB000.jpg&quot;); display:none;"></span>
					</div> -->
				</section>
				<section id="software" class="">
					<!-- née section id controversial -->
					<div class="images">
						<span class="home-image active" style="background-image: url(&quot;img/title-images/3B5C90.jpg&quot;);"></span>
						<span class="home-image" style="background-image: url(&quot;img/title-images/026773.jpg&quot;); display:none;"></span>
						<span class="home-image" style="background-image: url(&quot;img/title-images/C48E83.jpg&quot;); display:none;"></span>
					</div>
				</section>
				<section id="still-motion" class="">
					<!-- née section id celebrity -->
					<div class="images">
						<span class="home-image active" style="background-image: url(&quot;img/title-images/C0192E.jpg&quot;);"></span>
						<span class="home-image" style="background-image: url(&quot;img/title-images/FF5A77.jpg&quot;); display:none;"></span>
					</div>
				</section>
				<section id="materials" class="">
					<!-- née section id emotional -->
					<div class="images">
						<span class="home-image active" style="background-image: url(&quot;img/title-images/FFB000.jpg&quot;);"></span>
						<span class="home-image" style="background-image: url(&quot;img/title-images/5B6E5D.jpg&quot;); display:none;"></span>
					</div>
				</section>
				<section id="web-mobile" class="">
					<!-- née section id nature -->
					<div class="images">
						<span class="home-image active" style="background-image: url(&quot;img/title-images/50565A.jpg&quot;);"></span>
						<span class="home-image" style="background-image: url(&quot;img/title-images/3B5C90.jpg&quot;); display:none;"></span>
						<span class="home-image" style="background-image: url(&quot;img/title-images/FF6600.jpg&quot;); display:none;"></span>
						<span class="home-image" style="background-image: url(&quot;img/title-images/FFB000.jpg&quot;); display:none;"></span>
					</div>
				</section>
				<section id="about" class="">
					<!-- née section id images -->
					<div class="images">
						<span class="home-image active" style="background-image: url(&quot;img/title-images/71D9B3.jpg&quot;);"></span>
						<span class="home-image" style="background-image: url(&quot;img/title-images/3B5C90.jpg&quot;); display:none;"></span>
						<span class="home-image" style="background-image: url(&quot;img/title-images/FF6600.jpg&quot;); display:none;"></span>
						<span class="home-image" style="background-image: url(&quot;img/title-images/FFB000.jpg&quot;); display:none;"></span>
						<span class="home-image" style="background-image: url(&quot;img/title-images/F2055C.jpg&quot;); display:none;"></span>
						<span class="home-image" style="background-image: url(&quot;img/title-images/50565A.jpg&quot;); display:none;"></span>
						<span class="home-image" style="background-image: url(&quot;img/title-images/244059.jpg&quot;); display:none;"></span>
						<span class="home-image" style="background-image: url(&quot;img/title-images/71D9B3.jpg&quot;); display:none;"></span>
						<span class="home-image" style="background-image: url(&quot;img/title-images/8A92A0.jpg&quot;); display:none;"></span>
					</div>
				</section>
			</div>
			<div class="portal-nav"></div>
			
		</div>

	</body>
	<script>
		let currentElem = null;
		var container = document.querySelector(".home-wrap");
		var elID = null;
		var elements = [];
		var imgIndex = 0;

		container.onmouseover = function(event) {
		  if (currentElem) {
		    // before entering a new element, the mouse always leaves the previous one
		    // if we didn't leave <section> yet, then we're still inside it, so can ignore the event
		    return;
		  }

		  let target = event.target.closest('section');
		  if (!target || !container.contains(target)) return;

		  // yeah we're inside <section> now
		  currentElem = target;
		  elID = target.id;
		  elements = document.querySelectorAll("#"+elID);

		  for (var i = 0; i < elements.length; i++) {
		  	elements[i].classList.add("hover")        			
			}
		  // console.log(target);
		};


		container.onmouseout = function(event) {
		  // if we're outside of any <section> now, then ignore the event
		  if (!currentElem) return;

		  // we're leaving the section -- where to? Maybe to a child element?
		  let relatedTarget = event.relatedTarget;
		  if (relatedTarget) { // possible: relatedTarget = null
		    while (relatedTarget) {
		      // go up the parent chain and check -- if we're still inside currentElem
		      // then that's an internal transition -- ignore it
		      if (relatedTarget == currentElem) return;
		      relatedTarget = relatedTarget.parentNode;
		    }
		  }

		  for (var i = 0; i < elements.length; i++) {
		  	elements[i].classList.remove("hover");
		  	if (i == elements.length - 1) {
		  		var img = elements[i].querySelector(".active"); // get the active image
		  		var images = elements[i].querySelectorAll(".home-image"); //get all of the images of the category
		  		let arr = Array.from(images); //cast all of the images into an array
		  		var iofImg = arr.indexOf(img); //get the index of the active image
		  		var activeImg = images.item(iofImg); //select the node tha corresponds to the active image

		  		activeImg.classList.remove("active"); //remove the actve tag
		  		activeImg.style.display = "none"; //no longer display it

		  		if (iofImg ==  arr.length - 1) { //advance index forward
		  			iofImg = 0;
		  		}

		  		iofImg +=1; 
		  		activeImg = images.item(iofImg); //set a new active image
		  		activeImg.classList.add("active");
		  		activeImg.style.display = null;
		  		// console.log(iofImg);
		  	}

		  }

		  currentElem = null;
		  elID = null;
		};

	</script>
	
</html>